{{- define "main" }}

<header class="page-header">
    {{- $title := .Title }}
    {{- if eq .Data.Plural "categories" }}{{ $title = i18n "topics" | default "Explore Topics" }}{{ end }}

    <h1>{{ $title }}</h1>
    <div class="post-description">
        {{- if eq .Data.Plural "categories" }}
        {{ i18n "topics_description" | default "Discover high-level guides by technology and category." }}
        {{- else }}
        {{ .Description | default "Search by specific keywords and tools." }}
        {{- end }}
    </div>
</header>

<div class="topics-grid">
    {{- $plural := .Data.Plural }}
    {{- range .Data.Terms.ByCount }}
    <a href="{{ .Page.RelPermalink }}" class="topic-card">
        <div class="topic-info">
            <span class="topic-name">{{ .Page.Title | humanize }}</span>
            <span class="topic-count">{{ .Count }} {{ if eq .Count 1 }}Post{{ else }}Posts{{ end }}</span>
        </div>
        <div class="topic-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m9 18 6-6-6-6" />
            </svg>
        </div>
    </a>
    {{- end }}
</div>

{{- end }}